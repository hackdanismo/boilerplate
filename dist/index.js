var s=new Map;function p(t,o){if(s.has(t))throw Error(`Component is already defined: ${t}`);s.set(t,o)}function M(t){return s.get(t)}var f=new WeakSet;function r(t=document){let o=t.querySelectorAll("[data-ui]");for(let e of o)i(e)}function i(t){if(f.has(t))return;let o=t.dataset.ui;if(!o)return;let e=M(o);if(!e){console.warn(`[ui] Unknown component: "${o}"`,t);return}f.add(t),e(t)}p("counter",(t)=>{let o=Number(t.dataset.count??"0");if(!Number.isFinite(o))o=0;t.textContent=`Count: ${o}`,t.style.cursor="pointer",t.addEventListener("click",()=>{o++,t.textContent=`Count: ${o}`})});function c(t){if(document.readyState=="loading")document.addEventListener("DOMContentLoaded",t,{once:!0});else t()}c(()=>{r(),new MutationObserver((o)=>{for(let e of o)for(let n of e.addedNodes)if(n instanceof HTMLElement)if(n.matches?.("[data-ui]"))r(n.parentNode??document);else r(n)}).observe(document.documentElement,{childList:!0,subtree:!0})});
